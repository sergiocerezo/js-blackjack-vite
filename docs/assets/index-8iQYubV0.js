(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}})();const N=e=>{if(!e)throw new Error("carta es obligatorio como string");let r=e.substring(0,e.length-1);return isNaN(r)?r==="A"?11:10:r*1},f=(e,r,o,a)=>{if(!e||e.length===0)throw new Error("puntosJugadores es obligatorio como arreglo de number");if(!r||r.length===0)throw new Error("spanPuntosJugadores es obligatorio como NodeListOf de Elementos");if(isNaN(o))throw new Error("turno es obligatorio como valor númerico");return e[o]=e[o]+N(a),r[o].innerText=e[o],e[o]},P=e=>{let r=Math.random();return Math.floor(r*e)};function b(e,r=1){if(!e||e.length===0)throw new Error("deckEntrada es obligatorio como arreglo de string");let o=[];for(;o.length<e.length;){let a=e[P(e.length)];o.indexOf(a)===-1&&o.push(a)}return r>1&&(o=b(o,--r)),o}const u=e=>{let r="",[o,a]=e;setTimeout(()=>{o===a?(r="¡¡¡ OMG !!!! Empate.",console.log(`%c ${r}`,"font-size: 15px; padding: 0.5rem; background-color: #110909; color: white; border-radius: 1rem; margin: 1rem;")):a>21?(r="Jugador Ganó la partida.",console.log(`%c ${r}`,"font-size: 15px; padding: 0.5rem; background-color: #3014d1; color: white; border-radius: 1rem; margin: 1rem;"),console.log("%c Computadora Perdió la partida.","font-size: 15px; padding: 0.5rem; background-color: #a02430; color: white; border-radius: 1rem; margin: 1rem;")):(o>21||a>o)&&(r="Computadora Ganó la partida.",console.log(`%c ${r}`,"font-size: 15px; padding: 0.5rem; background-color: #3014d1; color: white; border-radius: 1rem; margin: 1rem;"),console.log("%c Jugador Perdió la partida.","font-size: 15px; padding: 0.5rem; background-color: #a02430; color: white; border-radius: 1rem; margin: 1rem;")),alert(r)},200)},h=(e,r)=>{if(!e)throw new Error("divCartasJugador es obligatorio como HTMLElement");if(!r)throw new Error("nombreCarta es obligatorio como string");const o=document.createElement("IMG");o.src=`assets/cartas/${r}.png`,o.classList.add("tablero__carta"),o.setAttribute("alt","Imagen Carta de Tablero"),e.append(o)},C=(e,r)=>{if(!e||e.length===0)throw new Error("tipoCartas es obligatorio como un arreglo de string");if(!r||r.length===0)throw new Error("cartasEspeciales es obligatorio como arreglo de string");let o=[];for(let a=2;a<=10;a++)for(let t of e)o.push(`${a}${t}`);for(let a of r)for(let t of e)o.push(`${a}${t}`);return o};function m(e=2,r,o,a,t,n){if(!e||e<2)throw new Error("numJugadores es obligatorio como valor mayor al número 1");if(!o||o.length===0)throw new Error("spanPuntosJugadores es obligatorio como NodeListOf de Elementos");if(!a||a.length===0)throw new Error("divCartasJugadores es obligatorio como NodeListOf de Elementos");if(!t)throw new Error("botonPedirCarta es obligatorio como Element");if(!n)throw new Error("botonDetener es obligatorio como Element");console.clear();let i=b(r,20),c=[];for(let l=0;l<e;l++)c.push(0),o[l].innerText=0,a[l].innerHTML="";return t.disabled=!1,n.disabled=!1,{deckResultante:i,arrPuntosJugadores:c}}const p=e=>{if(!e||e.length===0)throw new Error("deck es obligatorio como arreglo de string");return e.pop()},g=(e,r,o,a,t)=>{if(isNaN(e))throw new Error("puntosMinimos es obligatorio que sea un valor Number");let n=0;do{let i=r.length-1,c=p(t);if(n=f(r,o,i,c),h(a,c),e>21||n==21)break}while(n<=e&&e<=21)},L=(e,r,o,a)=>{let t=p(e),n=f(r,o,0,t);return h(a,t),n};(()=>{let e=[],r=["C","D","H","S"],o=["A","J","Q","K"],a=[],t=[];const n=document.querySelectorAll(".jugador__puntaje span"),i=document.querySelectorAll(".jugador__cartas"),c=document.querySelector("#btnNuevaPartida"),l=document.querySelector("#btnPedirCarta"),s=document.querySelector("#btnDetener");e=C(r,o);let{deckResultante:w,arrPuntosJugadores:E}=m(2,e,n,i,l,s);a=w,t=E,c.addEventListener("click",()=>{let{deckResultante:d,arrPuntosJugadores:y}=m(2,e,n,i,l,s);a=d,t=y}),l.addEventListener("click",()=>{let d=L(a,t,n,i[0]);d>=21&&(l.disabled=!0,s.disabled=!0,g(d,t,n,i[t.length-1],a),u(t))}),s.addEventListener("click",()=>{l.disabled=!0,s.disabled=!0,g(t[0],t,n,i[t.length-1],a),u(t)})})();
